<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>javascript tutorial</title>
	<link rel="stylesheet" href="stylesheets/reset.css">
	<link rel="icon" href="#">
	<link rel="stylesheet" href="stylesheets/main.css">
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
	<!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script> -->
    <link href="https://fonts.googleapis.com/css?family=Cabin+Sketch|Cinzel+Decorative|Josefin+Sans|Josefin+Slab" rel="stylesheet">
  <script   src="https://code.jquery.com/jquery-3.1.1.js"   integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="   crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/lodash/3.10.1/lodash.min.js"></script>
  <script src="external-sources/machina.js"></script>
  <script src="scripts/bird-fsm.js"></script>
    <script src="external-sources/prism.js"></script>
    <script src="scripts/main.js"></script>
    <link rel="stylesheet" href="external-sources/prism.css">
    <link href="https://fonts.googleapis.com/css?family=Nixie+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC" rel="stylesheet">
</head>
<body>
    <!-- wrapper for header and demo animation  -->
    <div class="wrapper">
        <header>
            <h1>Implementing an FSM in javascript: Machina JS</h1>
        </header>
        <!-- links will hopefully be sitting on a wire -->
        <!-- add in svgs for text later so they can be warped to fit curve -->
        <span><a href="#main">view code</a></span>
        <p>use the 'a' and 'd' keys the move the bird!</p>
        <div id="line">
          <nav class="main-nav">
              <ul>
                  <li><a href="#overview">Overview</a></li>
                  <li><a href="#html">HTML</a></li>
                  <li><a href="#scss">SCSS</a></li>
                  <li><a href="#js">JS</a></li>
              </ul>
          </nav>
          <!-- curve for the powerline (temporary filler one) -->
          <svg viewBox="0 0 560 64.06">
            <path id="powerline" d="M0,31.67C181.33,100.33,418,45.33,560,0"/>
          </svg>
          <!-- bird -->
          <div id="bird">
              <div></div>
          </div>
        </div>
    </div>
    <!-- main body, will contain code example and explanation  -->
    <main>
<!--        <script async src="//jsfiddle.net/areisle/8v3yog37/embed/"></script>-->
<!--<iframe width="100%" height="300" src="//jsfiddle.net/areisle/8v3yog37/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>-->
        <!-- expanation -->
        <section id="overview" class="overview active">
            <h2>Overview</h2>
            <span><a href="#top">top</a></span>
            <blockquote>
            <p>Machina.js is a JavaScript framework for highly customizable finite state machines.</p>
            <footer>
            <cite><a href="http://machina-js.org/">machina-js.org</a></cite>
            </footer>
            </blockquote>
            <p>In this demo, I'll be using Machina.js to create a 
                finite state machine for the movements of a bird</p>
            <p>Start planning out the state machine by drawing a diagram 
                of how it should behave given different inputs in each state</p>
            <figure>
                <img alt="diagram of a state machine">
                <figcaption>diagram for the state machine</figcaption>
            </figure>
            <p>for simplicity, I'll only be implementing some of the states, specifically: standing, shuffling left, and shuffling right</p>
            <figure>
                <img alt="diagram for shuffling and standing">
                <figcaption>diagram of standing and shuffling states</figcaption>
            </figure>
        </section>
        <!-- html -->
        <section id="html" class="html">
            <h2>HTML</h2>
            <span><a href="#top">top</a></span>
            <pre class="language-html">
            <code>
&lt;!-- wrapper for animation  -->
&lt;div class="wrapper">
    &lt;div id="line">
      &lt;!-- curve for the powerline (this will work with any inline path) -->
      &lt;svg viewBox="0 0 560 64.06">
        &lt;path id="powerline" d="M0,31.67C181.33,100.33,418,45.33,560,0"/>
      &lt;/svg>
      &lt;!-- bird -->
      &lt;div id="bird">
          &lt;div>&lt;/div>
      &lt;/div>
    &lt;/div>
&lt;/div>
            </code>
            </pre>
        </section>
        <!-- css/scss -->
        <section id="scss" class="scss">
            <h2>SCSS</h2>
            <span><a href="#top">top</a></span>
             <pre>
<code class="language-css">
$width: 200px;
$height: 140px;
$depth: 50px;
@keyframes open-lid {
  from {transform:translateZ($depth/2) rotateX(0deg);opacity:1}
  to {transform:translateZ($depth/2) rotateX(60deg);opacity:1}
}
@keyframes fade-lid {
  from {opacity: 1;}
  to {opacity: 0;}
}
* {
  box-sizing:border-box;
}
body {
  height: 2000px;
  overflow-y: scroll;
  margin: 0;
}
#parent {
  box-sizing:content-box;
	perspective:800px;
	perspective-origin: center -60px;
  //border: green solid 1px;
  width: $width;
  height:$height;
  position:fixed;
  top: 100px;
  left: 100px;
}

.prism {
	position: absolute;
	transform-style: preserve-3d;
  width:100%;
  height:100%;
}
.prism div {
	position: absolute;
  border: black solid 3px;
  text-align: center;
  display: block;
}
.front, .back{
  width:$width;
  height:$height;
}
.top, .bottom {
  width:$width;
  height:$depth;
  top:($height - $depth)/2;
}
.left, .right {
  width: $depth;
  height: $height;
  left: ($width - $depth)/2;
}
.front {
  transform: translateZ($depth/2);
}
.back {
  transform: rotateY(180deg) translateZ($depth/2);
}
.top {
  transform: rotateX(90deg) translateZ($height/2);
}
.bottom {
  transform: rotateX(270deg) translateZ($height/2);
  display: none;
}
.left {
  transform: rotateY(270deg) translateZ($width/2);
}
.right {
  transform: rotateY(90deg) translateZ($width/2);
}
#upper {
  margin: auto;
  //border: blue dashed 2px;
  transform-origin: $width/2 0px -$depth/2;
  transform:translateZ($depth/2) rotateX(60deg);
  opacity: 0;
  animation-name: open-lid, fade-lid;
  animation-duration: 1.5s, 1.5s;
  animation-delay: 0s, 0.5s;
  animation-timing-function: ease-out, ease;
}
#lower {
  transform-origin: center bottom $depth/2;
  transform:translateZ(-$depth/2);
}
#outer {
  //border: blue dashed 2px;
  width:100%;
  height:100%;
  transform-style:preserve-3d;
  transform-origin: center bottom 0px;
  opacity: 1;
}
</code>
                </pre>
        </section>
        <!-- js/jquery -->
        <section id="js" class="js">
            <h2>Javascript</h2>
            <span><a href="#top">top</a></span>
        </section>
    </main>
</body>
</html>